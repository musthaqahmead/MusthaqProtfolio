/* =====================
   Root Variables
====================== */
:root {
  --green: #00ff41;
  --blue: #3399ff;
  --border: #00ff41;
  --bg: #000;
  --header-height: 48px;
  --commands-height: 40px;
  --footer-height: 40px;
}

/* =====================
   Global Styles
====================== */
* { box-sizing: border-box; }
body, html {
  margin: 0; padding: 0; height: 100%;
  overflow: hidden;
  font-family: 'Courier New', Courier, monospace;
  background: var(--bg); color: var(--green);
}

/* =====================
   Layout Containers
====================== */
.app-container {
  display: flex;
  height: calc(100vh - var(--header-height));
  margin-top: var(--header-height);
}

.side-panel {
  width: 40%; background: radial-gradient(#111, #000);
  border-right: 1px solid var(--border);
  display: flex; justify-content: center; align-items: center;
  position: fixed; top: var(--header-height); left: 0; bottom: 0;
  z-index: 10; padding: 20px;
}

.main-panel {
  margin-left: 40%; width: 60%; height: 100%;
  display: flex; flex-direction: column;
  position: relative; border-right: 1px solid var(--border);
}

/* =====================
   Fixed Bars & Footer
====================== */
.profile-header {
  position: fixed; top: 0; left: 0; width: 100%;
  background: var(--bg); height: var(--header-height);
  display: flex; flex-direction: column; justify-content: center;
  z-index: 1001; padding-left: 12px;
}
.profile-name { color: var(--green); font-size: 1.2rem; font-weight: bold; margin: 0 0 2px 0; }
.profile-title { color: #b0b0b0; font-size: 0.85rem; margin: 0; }
.profile-divider {
  position: fixed; top: var(--header-height); left: 0;
  width: 100%; height: 1px;
  background: var(--border); z-index: 1000;
}
.available-commands {
  flex-shrink: 0; height: var(--commands-height);
  background: var(--bg); color: var(--green);
  padding-left: 12px; line-height: var(--commands-height);
  font-size: 14px; border-bottom: 1px solid var(--border);
  white-space: nowrap; overflow: hidden;
}
.footer {
  position: fixed; bottom: 0; left: 40%; right: 0;
  width: 60%; height: var(--footer-height);
  padding: 8px 16px; font-size: 12px;
  background: var(--bg); border-top: 1px solid var(--border);
  display: flex; justify-content: space-between; align-items: center;
  z-index: 1000;
}

/* ====================================
   TERMINAL AREA (NEW, ROBUST LAYOUT)
======================================= */
.terminal {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  overflow-y: auto; /* allow scrolling for the whole terminal */
  padding-bottom: var(--footer-height);
}

#history {
  /* Remove flex-grow: 1; */
  overflow: visible; /* or remove overflow-y */
  padding: 16px;
  word-wrap: break-word;
  font-size: 14px;
}
#history div { margin-bottom: 8px; }

.input-line {
  display: flex;
  flex-shrink: 0;
  align-items: center;
  white-space: nowrap;
  padding: 0 16px 16px 16px;
}

#cmd-input {
  outline: none; color: var(--green);
  font-family: inherit; font-size: inherit;
  white-space: pre-wrap;
  caret-color: transparent; /* Hide the default text cursor */
  flex-grow: 1;
  position: relative; /* Needed for the ::after cursor */
}

/* THIS IS THE KEY FIX FOR THE CURSOR */
#cmd-input::after {
  content: "â–ˆ";
  color: var(--green);
  animation: blink 1s steps(1) infinite;
  position: absolute;
}

@keyframes blink {
  50% { opacity: 0; }
}

.command { color: var(--green); }
.output {
  color: #fff;
  white-space: pre-wrap;
  line-height: 1.2; /* Reduce from default 1.5 or higher */
  margin-bottom: 0.2em; /* Reduce space after each output block */
}
.prompt { color: var(--blue); margin-right: 8px; }

/* AI Assistant & Error styles */
.output-error { color: #ff4d4d; }
.output-fetching { color: #ccc; font-style: italic; }

/* =====================
   Neofetch & Scrollbar Styles (Unchanged)
====================== */
.neofetch-output {
  display: flex;
  flex-direction: column; /* Stack logo and info vertically */
  align-items: flex-start; /* Align to the left */
  gap: 0;
}
.neofetch-logo { font-family: 'Courier New', monospace; line-height: 1.0; font-size: 0.9em; margin: 0; color: var(--blue); }
.neofetch-info {
  margin-top: 8px;
  font-family: 'Courier New', monospace; color: #fff; white-space: nowrap; }
.neofetch-info b { color: var(--green); font-weight: bold; width: 90px; display: inline-block; }
#history::-webkit-scrollbar { width: 8px; }
#history::-webkit-scrollbar-track { background: #1a1a1a; }
#history::-webkit-scrollbar-thumb { background-color: #555; border-radius: 4px; border: 1px solid #333; }
#history::-webkit-scrollbar-thumb:hover { background-color: #777; }

.neofetch-label { color: var(--green); font-weight: bold; }

/* ===========================================
   Responsive Design (Tablet and Mobile)
============================================== */
@media (max-width: 1021.25px) {
  .side-panel { display: none; }
  .main-panel, .footer { margin-left: 0; width: 100%; left: 0; }
  .available-commands { height: auto; min-height: var(--commands-height); line-height: 1.5; padding: 8px 12px; white-space: normal; }
  #history, .input-line { padding: 8px; font-size: 12px; }
  #history { padding-bottom: 0; }
  .terminal { padding-bottom: var(--footer-height); }
  .neofetch-logo { font-size: 0.7em; }
  .neofetch-info { font-size: 12px; }
  .neofetch-info b { width: 70px; }
}

@media (max-width: 480px) {
  #history, .input-line { font-size: 11px; }
  .neofetch-logo { font-size: 0.6em; }
  .neofetch-info { font-size: 11px; }
  .neofetch-info b { width: 60px; }
  .profile-name { font-size: 1rem; }
  .profile-title { font-size: 0.75rem; }
}
